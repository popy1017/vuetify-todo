(function(t){function e(e){for(var n,i,s=e[0],c=e[1],d=e[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,d||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var c=o[s];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("c740"),o("a434"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=o("ec26"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("v-app",[o("v-app-bar",{staticClass:"headline",attrs:{app:"",color:"primary",dark:""}},[t._v("Todoリスト")]),o("v-content",[o("keep-alive",{attrs:{include:"TodoList"}},[o("router-view")],1)],1)],1)],1)},i=[],s={name:"App"},c=s,d=o("2877"),l=o("6544"),u=o.n(l),p=o("7496"),f=o("40dc"),v=o("a75b"),m=Object(d["a"])(c,r,i,!1,null,null,null),h=m.exports;u()(m,{VApp:p["a"],VAppBar:f["a"],VContent:v["a"]});var T=o("5530"),b=o("8c4f"),w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{attrs:{justify:"end"}},[o("v-switch",{staticClass:"mx-1",attrs:{label:"完了したTodoを隠す"},model:{value:t.hideDoneTodo,callback:function(e){t.hideDoneTodo=e},expression:"hideDoneTodo"}}),o("v-switch",{staticClass:"mx-1",attrs:{label:"相対時間表示"},model:{value:t.showRelative,callback:function(e){t.showRelative=e},expression:"showRelative"}})],1),o("v-row",[o("v-btn",{staticClass:"font-weight-bold",attrs:{color:"success"},on:{click:t.toRegisterTodo}},[o("v-icon",{attrs:{left:""}},[t._v("mdi-pencil-plus")]),t._v(" 新規作成 ")],1),o("v-spacer"),o("v-select",{attrs:{items:t.items,label:"Sort",outlined:"",dense:""},model:{value:t.sortMode,callback:function(e){t.sortMode=e},expression:"sortMode"}})],1),o("v-row",{staticClass:"flex-column",attrs:{justify:"center"}},[o("v-fade-transition",{attrs:{group:"","leave-absolute":"","hide-on-leave":""}},t._l(t.sortedTodos,(function(e){return o("Todo",{key:e.id,attrs:{transition:"fade-transition",todo:e,"show-relative":t.showRelative}})})),1)],1)],1)},x=[],k=(o("4de4"),o("2909")),y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"my-2",attrs:{"min-width":"400"}},[o("v-row",{attrs:{align:"center"}},[o("v-col",{staticClass:"text-center pr-0",attrs:{cols:"2",xl:"1",lg:"1",md:"1",sm:"1"}},[o("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(e){t.todo.done=!t.todo.done}}},[o("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.doneIcon))])],1)],1),o("v-col",[o("v-card-title",[t._v(t._s(t.todo.title))]),o("v-card-subtitle",[t._v(t._s(t.dueDate))]),o("v-card-text",[o("pre",[t._v(t._s(t.todo.note))])])],1),o("v-col",{staticClass:"text-center pl-0",attrs:{cols:"2",xl:"1",lg:"1",md:"1",sm:"1"}},[o("v-row",{staticClass:"flex-column fill-height",attrs:{justify:"center"}},[o("v-col",{staticClass:"pl-0"},[o("v-btn",{attrs:{icon:""},on:{click:t.toEditTodo}},[o("v-icon",[t._v("mdi-square-edit-outline")])],1)],1),o("v-col",{staticClass:"pl-0"},[o("v-btn",{attrs:{icon:""},on:{click:t.remove}},[o("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)],1)],1)],1)],1)},g=[],_={props:["todo","showRelative"],computed:{doneIcon:function(){return this.todo.done?"mdi-checkbox-marked-circle-outline":"mdi-checkbox-blank-circle-outline"},dueDate:function(){return this.showRelative?this.$root.$dayjs().to(this.todo.dueDate):this.$root.$dayjs(this.todo.dueDate).format("llll")}},methods:{toEditTodo:function(){this.$router.push({name:"edit",params:{todo:this.todo}})},remove:function(){var t=confirm("削除してもよろしいですか？");t&&this.$root.removeTodo(this.todo.id)}}},V=_,j=o("8336"),$=o("b0af"),D=o("99d9"),C=o("62ad"),O=o("132d"),P=o("0fd9"),S=Object(d["a"])(V,y,g,!1,null,null,null),M=S.exports;u()(S,{VBtn:j["a"],VCard:$["a"],VCardSubtitle:D["b"],VCardText:D["c"],VCardTitle:D["d"],VCol:C["a"],VIcon:O["a"],VRow:P["a"]});var R={name:"TodoList",components:{Todo:M},data:function(){return{hideDoneTodo:!0,showRelative:!0,items:["期日順","作成順"],sortMode:"期日順"}},computed:{sortedTodos:function(){var t=this.shownTodos();if("期日順"==this.sortMode)t.sort(this.compareDate);else if("作成順"==this.sortMode)return t;return t}},methods:{toRegisterTodo:function(){this.$router.push("/create")},shownTodos:function(){var t=Object(k["a"])(this.$root.todos);return this.hideDoneTodo?t.filter((function(t){return 0==t.done})):t},compareDate:function(t,e){var o=this.$root.$dayjs(t.dueDate),n=this.$root.$dayjs(e.dueDate);return o.isAfter(n)?1:o.isBefore(n)?-1:0}}},B=R,I=o("a523"),E=o("0789"),A=o("b974"),L=o("2fa4"),H=o("b73d"),Y=Object(d["a"])(B,w,x,!1,null,null,null),q=Y.exports;u()(Y,{VBtn:j["a"],VContainer:I["a"],VFadeTransition:E["d"],VIcon:O["a"],VRow:P["a"],VSelect:A["a"],VSpacer:L["a"],VSwitch:H["a"]});var F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{attrs:{justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[o("v-card",{ref:"form"},[o("v-card-text",[o("v-text-field",{ref:"title",attrs:{rules:[],label:"タイトル",required:""},model:{value:t.tmpTodo.title,callback:function(e){t.$set(t.tmpTodo,"title",e)},expression:"tmpTodo.title"}}),o("v-row",[o("v-col",[o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-text-field",t._g({attrs:{label:"締切日","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}]),model:{value:t.showDatePicker,callback:function(e){t.showDatePicker=e},expression:"showDatePicker"}},[o("v-date-picker",{attrs:{locale:"jp-ja","day-format":function(t){return new Date(t).getDate()}},on:{input:function(e){t.showDatePicker=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),o("v-col",[o("v-menu",{ref:"timePicker",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px",persistent:"","return-value":t.time},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-text-field",t._g({attrs:{"prepend-icon":"mdi-clock-outline",readonly:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},n))]}}]),model:{value:t.showTimePicker,callback:function(e){t.showTimePicker=e},expression:"showTimePicker"}},[t.showTimePicker?o("v-time-picker",{attrs:{format:"24hr"},on:{"click:minute":function(e){return t.$refs.timePicker.save(t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1)],1)],1),o("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle-outline",label:"メモ"},model:{value:t.tmpTodo.note,callback:function(e){t.$set(t.tmpTodo,"note",e)},expression:"tmpTodo.note"}})],1),o("v-divider",{staticClass:"mt-12"}),o("v-card-actions",[o("v-btn",{attrs:{text:""},on:{click:t.toTodoList}},[o("v-icon",{attrs:{left:""}},[t._v("mdi-less-than")]),t._v(" キャンセル ")],1),o("v-spacer"),o("v-btn",{attrs:{color:t.registerButtonColor},on:{click:t.registerTodo}},[t._v(t._s(t.registerButtonName))])],1)],1)],1)],1)},J=[],N=(o("99af"),{props:["todo"],data:function(){return{newTodo:!0,tmpTodo:{title:"",dueDate:"",note:"",done:!1},date:"",time:"00:00",showDatePicker:!1,showTimePicker:!1}},computed:{registerButtonColor:function(){return this.newTodo?"success":"primary"},registerButtonName:function(){return this.newTodo?"登録":"更新"}},methods:{toTodoList:function(){this.$router.push("/")},registerTodo:function(){this.tmpTodo.dueDate=this.dateTime(),this.newTodo?this.$root.addTodo(this.tmpTodo):this.$root.updateTodo(this.tmpTodo),this.toTodoList()},dateTime:function(){return this.$root.$dayjs("".concat(this.date," ").concat(this.time)).format("YYYY-MM-DD HH:mm")}},mounted:function(){this.todo&&(this.tmpTodo=Object.assign(this.tmpTodo,this.todo),this.newTodo=!1),this.date=this.$root.$dayjs().toISOString().substr(0,10),this.time=this.$root.$dayjs().format("HH:mm")}}),z=N,G=o("2e4b"),K=o("ce7e"),Q=o("e449"),U=o("8654"),W=o("a844"),X=o("c964"),Z=Object(d["a"])(z,F,J,!1,null,null,null),tt=Z.exports;u()(Z,{VBtn:j["a"],VCard:$["a"],VCardActions:D["a"],VCardText:D["c"],VCol:C["a"],VDatePicker:G["a"],VDivider:K["a"],VIcon:O["a"],VMenu:Q["a"],VRow:P["a"],VSpacer:L["a"],VTextField:U["a"],VTextarea:W["a"],VTimePicker:X["a"]}),n["a"].use(b["a"]);var et=new b["a"]({mode:"history",routes:[{path:"/",component:q},{path:"/create",component:tt},{name:"edit",path:"/edit",component:tt,props:function(t){return Object(T["a"])({},t.params)}}]}),ot=o("f309");n["a"].use(ot["a"]);var nt=new ot["a"]({}),at=(o("5999"),o("5a0c")),rt=o.n(at),it=o("4208"),st=o.n(it),ct=o("23ad"),dt=o.n(ct),lt=o("f906"),ut=o.n(lt);rt.a.extend(st.a),rt.a.extend(dt.a),rt.a.extend(ut.a),rt.a.locale("ja"),n["a"].prototype.$dayjs=rt.a;rt.a;var pt=o("c16e"),ft=o.n(pt),vt={namespace:"vue_todo_ls_1_",name:"ls",storage:"local"};n["a"].use(ft.a,vt),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(h)},router:et,vuetify:nt,data:{todos:[]},methods:{getTodos:function(){this.todos=this.$ls.get("todos")||[]},setTodos:function(){this.$ls.set("todos",this.todos)},addTodo:function(t){t.id=Object(a["a"])(),this.todos.push(t),this.setTodos()},updateTodo:function(t){var e=this.todos.findIndex((function(e){return e.id==t.id}));e>=0&&(this.todos[e]=Object.assign(this.todos[e],t),this.setTodos())},removeTodo:function(t){var e=this.todos.findIndex((function(e){return e.id==t}));e>=0&&(this.todos.splice(e,1),this.setTodos())}},mounted:function(){this.$root.getTodos()}}).$mount("#app")}});
//# sourceMappingURL=app.73f58c0e.js.map